<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ===== METAETIQUETAS SEO PARA ESPAÑOL ===== -->
    <title>Productor Musical | napbak | Música para Artistas, Cine y Videojuegos</title>
    <meta name="description" content="Productor musical profesional. Ofrezco servicios de producción para artistas, composición de bandas sonoras para cine y TV, jingles para publicidad y música para videojuegos.">
    <meta name="keywords" content="productor musical, producción musical, música para artistas, música para películas, jingles, bandas sonoras, videojuegos, compositor, diseño de sonido, scoring">

    <!-- ===== ETIQUETAS HREFLANG PARA SEO MULTILINGÜE ===== -->
    <link rel="alternate" hreflang="es" href="https://napbakmusic.com/es/">
    <link rel="alternate" hreflang="en" href="https://napbakmusic.com/en/">
    <link rel="alternate" hreflang="x-default" href="https://napbakmusic.com/es/">

    <!-- ===== METAETIQUETAS Open Graph (para redes sociales) ===== -->
    <meta property="og:title" content="napbak | Productor Musical Profesional">
    <meta property="og:description" content="Servicios de producción musical para artistas, cine, TV, jingles y videojuegos. Transforma tu visión en un sonido profesional que conecta y destaca.">
    <meta property="og:image" content="https://i.imgur.com/mdQDzCG.png">
    <meta property="og:url" content="https://napbakmusic.com/es/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="es_ES">
    <meta property="og:locale:alternate" content="en_US">
    <meta name="twitter:card" content="summary_large_image">

    <!-- ===== FAVICONS / ICONOS DEL SITIO WEB ===== -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
    <link rel="manifest" href="/assets/site.webmanifest">
    <link rel="shortcut icon" href="/assets/favicon.ico">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome (iconos) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">

    <!-- ===== DATOS ESTRUCTURADOS (SCHEMA.ORG) ===== -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MusicGroup",
      "name": "napbak",
      "url": "https://napbakmusic.com/es/",
      "image": "https://i.imgur.com/mdQDzCG.png",
      "description": "Productor musical profesional. Ofrezco servicios de producción para artistas, composición de bandas sonoras para cine y TV, jingles para publicidad y música para videojuegos.",
      "makesOffer": [
        { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Producción para Artistas", "description": "Lleva tu canción de una idea a un lanzamiento listo para radios y plataformas de streaming." } },
        { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Música para Cine y TV", "description": "Composición de bandas sonoras (scoring) y diseño de sonido que potencian la narrativa visual." } },
        { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Jingles y Publicidad", "description": "Crea una identidad sonora memorable para tu marca que conecte con tu audiencia." } },
        { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Bandas Sonoras para Juegos", "description": "Música y efectos de sonido inmersivos que definen la atmósfera y la jugabilidad de tu videojuego." } }
      ]
    }
    </script>

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0c0a09; color: #e2e8f0; }
        h1, h2, h3, h4, h5, h6 { font-family: 'Montserrat', sans-serif; }
        .header-scrolled { background-color: rgba(12, 10, 9, 0.8); backdrop-filter: blur(10px); box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
        .wave-transition { position: absolute; top: -1px; left: 0; width: 100%; overflow: hidden; line-height: 0; transform: rotate(180deg); }
        .wave-transition svg { position: relative; display: block; width: calc(100% + 1.3px); height: 120px; }
        .wave-transition .shape-fill { fill: #111827; }
        .reveal { opacity: 0; transform: translateY(50px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .reveal.visible { opacity: 1; transform: translateY(0); }
        .modal-content-enter { opacity: 0; transform: translateY(20px) scale(0.95); }
        .modal-content-enter-active { opacity: 1; transform: translateY(0) scale(1); transition: opacity 300ms ease-out, transform 300ms ease-out; }
        .modal-content-leave-active { opacity: 0; transform: translateY(20px) scale(0.95); transition: opacity 300ms ease-in, transform 300ms ease-in; }
        @keyframes moveGradient { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .animated-gradient-bg { background: linear-gradient(-45deg, #2c1250, #1a237e, #0c0a09, #4c1d95); background-size: 400% 400%; animation: moveGradient 20s ease infinite; }
        .lang-switcher a { background-color: transparent; color: #e2e8f0; padding: 5px 10px; border-radius: 5px; transition: background-color 0.3s, color 0.3s; font-weight: 700; }
        .lang-switcher a.active { background-color: #8b5cf6; color: white; }
    </style>
</head>
<body class="bg-stone-950">

    <!-- El resto del body sigue igual... -->
    <!-- ===== Header ===== -->
    <header id="header" class="fixed top-0 left-0 w-full z-50 transition-all duration-300">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="logo">
                <a href="/es/" class="text-2xl font-black tracking-tighter text-white">napbak</a>
            </div>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#services" class="text-slate-300 hover:text-purple-400 transition-colors duration-300">Servicios</a>
                <a href="#how-it-works" class="text-slate-300 hover:text-purple-400 transition-colors duration-300">Proceso</a>
                <a href="#music" class="text-slate-300 hover:text-purple-400 transition-colors duration-300">Portafolio</a>
                <button class="open-modal-trigger bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-6 rounded-full transition-all duration-300 transform hover:scale-105">
                    Hablemos
                </button>
                <div class="lang-switcher flex items-center border border-slate-600 rounded-lg ml-4">
                    <a href="/es/" class="active">ES</a>
                    <a href="/en/">EN</a>
                </div>
            </nav>
            <div class="md:hidden flex items-center">
                <div class="lang-switcher flex items-center border border-slate-600 rounded-lg mr-4">
                    <a href="/es/" class="active">ES</a>
                    <a href="/en/">EN</a>
                </div>
                <button class="text-white text-2xl">
                    <i class="fas fa-bars"></i> <!-- Nota: necesitarás JS para el menú móvil -->
                </button>
            </div>
        </div>
    </header>

    <main>
        <!-- ===== Hero Section ===== -->
        <section id="hero" class="relative h-screen flex items-center justify-center text-center overflow-hidden">
            <div id="hero-bg" class="absolute inset-0 z-0">
                <video autoplay loop muted playsinline poster="https://images.unsplash.com/photo-1619983081563-436f63e02242?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover">
                    <source src="https://i.imgur.com/u2v1HLr.mp4" type="video/mp4">
                    Tu navegador no soporta el video de fondo.
                </video>
            </div>
            <div class="absolute inset-0 bg-gradient-to-t from-stone-950 via-purple-950/50 to-transparent z-10"></div>
            <div class="container mx-auto px-6 relative z-20">
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-black text-white leading-tight mb-4 reveal">
                    Producción Musical para Artistas, Cine y Videojuegos
                </h1>
                <p class="text-lg md:text-xl text-slate-300 max-w-3xl mx-auto mb-8 reveal" style="transition-delay: 100ms;">
                    Transformo tu visión en un sonido profesional que conecta, emociona y destaca. Desde la producción completa de tu canción hasta bandas sonoras y jingles.
                </p>
                <button class="open-modal-trigger bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 px-10 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg shadow-purple-500/50 reveal" style="transition-delay: 200ms;">
                    Cotiza tu proyecto
                </button>
            </div>
        </section>

        <!-- ===== SECCIÓN DE SERVICIOS ===== -->
        <section id="services" class="py-20 md:py-32 bg-stone-950">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl md:text-5xl font-black text-white mb-4 reveal">Servicios de Producción Musical</h2>
                    <p class="text-lg text-slate-400 max-w-2xl mx-auto reveal" style="transition-delay: 100ms;">Soluciones de audio profesionales para cada necesidad creativa.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-desktop"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">Producción para Artistas</h3>
                        <p class="text-slate-400">Lleva tu canción de una idea a un lanzamiento listo para radios y plataformas de streaming.</p>
                    </div>
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal" style="transition-delay: 100ms;">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-film"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">Música para Cine y TV</h3>
                        <p class="text-slate-400">Composición de bandas sonoras (scoring) y diseño de sonido que potencian la narrativa visual.</p>
                    </div>
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal" style="transition-delay: 200ms;">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-bullhorn"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">Jingles y Publicidad</h3>
                        <p class="text-slate-400">Crea una identidad sonora memorable para tu marca que conecte con tu audiencia.</p>
                    </div>
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal" style="transition-delay: 300ms;">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-gamepad"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">Bandas Sonoras para Juegos</h3>
                        <p class="text-slate-400">Música y efectos de sonido inmersivos que definen la atmósfera y la jugabilidad de tu videojuego.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== Proceso de Producción ===== -->
        <section id="how-it-works" class="py-20 md:py-32 bg-stone-950 relative">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl md:text-5xl font-black text-white mb-4 reveal">Mi Proceso de Producción</h2>
                    <p class="text-lg text-slate-400 max-w-2xl mx-auto reveal" style="transition-delay: 100ms;">Un enfoque colaborativo y transparente para llevar tu música al siguiente nivel.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-lightbulb"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">1. Visión y Concepto</h3>
                        <p class="text-slate-400">Comenzamos con una llamada para entender tu idea, tus influencias y el objetivo de tu proyecto.</p>
                    </div>
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal" style="transition-delay: 100ms;">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-drafting-compass"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">2. Producción y Arreglos</h3>
                        <p class="text-slate-400">Construyo el instrumental, los arreglos y la estructura, enviándote avances para tu feedback.</p>
                    </div>
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal" style="transition-delay: 200ms;">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-microphone-alt"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">3. Grabación y Edición</h3>
                        <p class="text-slate-400">Te guío en la grabación de voces o las grabamos juntos. Luego edito y afino cada detalle.</p>
                    </div>
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal" style="transition-delay: 300ms;">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-wave-square"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">4. Mezcla y Mastering</h3>
                        <p class="text-slate-400">El paso final donde equilibro todos los elementos y doy al audio el pulido final para su lanzamiento.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ===== Portafolio/Música ===== -->
        <section id="music" class="relative pt-20 md:pt-32 pb-20 md:pb-32 animated-gradient-bg">
            <div class="wave-transition">
                <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                    <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V120H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill" style="fill: #0c0a09;"></path>
                </svg>
            </div>
            <div class="container mx-auto px-6 relative z-10">
                <div class="text-center mb-16">
                    <h2 class="text-4xl md:text-5xl font-black text-white mb-4 reveal">Mi Portafolio</h2>
                    <p class="text-lg text-slate-300 max-w-2xl mx-auto reveal" style="transition-delay: 100ms;">Esta es la prueba de mi sonido. Escucha algunos de mis lanzamientos y trabajos de producción.</p>
                </div>
                <div class="max-w-4xl mx-auto reveal">
                    <iframe title="Spotify Player for napbak" style="border-radius:12px" src="https://open.spotify.com/embed/artist/1mc3f2GvIm1g6f61hVvyJt?utm_source=generator" width="100%" height="380" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                </div>
            </div>
        </section>

        <!-- ===== CTA Descuento ===== -->
        <section id="discount-cta" class="py-20 md:py-32 bg-gray-900">
            <div class="container mx-auto px-6 text-center">
                 <div class="bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl p-10 md:p-16 reveal">
                    <h2 class="text-3xl md:text-4xl font-black text-white mb-4">Obtén 10% de Descuento</h2>
                    <p class="text-lg text-purple-200 max-w-2xl mx-auto mb-8">Suscríbete a mi lista de correo y recibe un 10% de descuento en tu primer proyecto de producción musical. ¡No te pierdas ofertas exclusivas y noticias!</p>
                    <form id="discount-form" action="https://formspree.io/f/mldnvnjy" method="POST" class="max-w-lg mx-auto">
                        <div class="flex flex-col md:flex-row justify-center items-center gap-4">
                            <input type="email" name="email" required class="w-full md:w-auto flex-grow bg-white/20 text-white placeholder-purple-200/70 rounded-full py-3 px-6 border-2 border-transparent focus:border-white focus:outline-none transition-all" placeholder="Tu correo electrónico">
                            <button type="submit" class="w-full md:w-auto bg-white text-purple-600 font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-105">
                                Reclamar mi Descuento
                            </button>
                        </div>
                    </form>
                    <p id="discount-form-status" class="mt-4 text-white"></p>
                </div>
            </div>
        </section>
    </main>
    
    <!-- ===== Footer ===== -->
    <footer id="contact" class="bg-gradient-to-t from-purple-950/50 to-gray-900 pt-20">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12 text-center md:text-left">
                <div class="md:col-span-1">
                    <h4 class="text-xl font-black tracking-tighter text-white mb-4 inline-block">napbak</h4>
                    <p class="text-slate-400 mb-4">Producción musical que conecta.</p>
                </div>
                <div>
                    <h4 class="text-lg font-bold text-white mb-4">Explora</h4>
                    <ul class="space-y-2">
                        <li><a href="#services" class="text-slate-400 hover:text-purple-400 transition-colors">Servicios</a></li>
                        <li><a href="#music" class="text-slate-400 hover:text-purple-400 transition-colors">Mi Portafolio</a></li>
                        <li><a href="#how-it-works" class="text-slate-400 hover:text-purple-400 transition-colors">Mi Proceso</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-bold text-white mb-4">Social</h4>
                    <div class="flex space-x-4 text-2xl justify-center md:justify-start">
                       <a href="https://open.spotify.com/artist/1mc3f2GvIm1g6f61hVvyJt" target="_blank" rel="noopener noreferrer" class="text-slate-400 hover:text-purple-400 transition-colors"><i class="fab fa-spotify"></i></a>
                       <a href="https://www.instagram.com/napbakmusic" target="_blank" rel="noopener noreferrer" class="text-slate-400 hover:text-purple-400 transition-colors"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="border-t border-white/10 py-6 text-center text-slate-500">
                <p>&copy; 2024 napbak. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- ===== MODAL DE CONTACTO ===== -->
    <div id="contact-modal" class="fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] hidden flex items-center justify-center p-4 transition-opacity duration-300 opacity-0">
        <div id="modal-content" class="bg-gradient-to-br from-stone-900 to-slate-900 border border-purple-500/20 shadow-2xl shadow-purple-500/20 rounded-2xl p-8 max-w-lg w-full relative modal-content-enter">
            <button id="close-modal" class="absolute top-4 right-4 text-slate-500 hover:text-white transition-colors duration-300 z-10">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
            <h2 class="text-3xl font-bold text-white mb-2 text-center">Hablemos de tu Proyecto</h2>
            <p class="text-slate-400 text-center mb-6">Completa el formulario y te contactaré por WhatsApp.</p>
            <form id="whatsapp-form" class="space-y-5">
                <div>
                    <label for="name" class="block text-slate-300 mb-2 font-semibold text-sm">Tu Nombre</label>
                    <input type="text" id="name" name="name" required class="w-full bg-slate-800/50 text-white rounded-lg py-3 px-4 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all" placeholder="Ej: Juan Pérez">
                </div>
                <div>
                    <label for="email" class="block text-slate-300 mb-2 font-semibold text-sm">Tu Correo Electrónico</label>
                    <input type="email" id="email" name="email" required class="w-full bg-slate-800/50 text-white rounded-lg py-3 px-4 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all" placeholder="Ej: juan.perez@email.com">
                </div>
                <div>
                    <label for="message" class="block text-slate-300 mb-2 font-semibold text-sm">Cuéntame sobre tu proyecto</label>
                    <textarea id="message" name="message" rows="4" required class="w-full bg-slate-800/50 text-white rounded-lg py-3 px-4 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all" placeholder="Describe tu idea, género musical, si es para una película, un juego, etc."></textarea>
                </div>
                <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-3">
                    <i class="fab fa-whatsapp text-xl"></i>
                    <span>Enviar por WhatsApp</span>
                </button>
            </form>
        </div>
    </div>

    <script>
    // Este script ya no necesita manejar traducciones, solo la funcionalidad de la página.
    document.addEventListener('DOMContentLoaded', () => {
        // --- Lógica de la página (scroll, animaciones, etc.) ---
        const heroBg = document.getElementById('hero-bg');
        window.addEventListener('scroll', () => {
            if (heroBg) heroBg.style.transform = `translateY(${window.pageYOffset * 0.4}px)`;
        });
        const header = document.getElementById('header');
        window.addEventListener('scroll', () => header.classList.toggle('header-scrolled', window.scrollY > 50));
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // --- Lógica del Modal ---
        const contactModal = document.getElementById('contact-modal');
        const modalContent = document.getElementById('modal-content');
        const openModalBtns = document.querySelectorAll('.open-modal-trigger');
        const closeModalBtn = document.getElementById('close-modal');
        const whatsappForm = document.getElementById('whatsapp-form');

        const openModal = () => {
            contactModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            void contactModal.offsetWidth; 
            contactModal.classList.remove('opacity-0');
            modalContent.classList.remove('modal-content-enter');
            modalContent.classList.add('modal-content-enter-active');
        };

        const closeModal = () => {
            modalContent.classList.remove('modal-content-enter-active');
            modalContent.classList.add('modal-content-leave-active');
            contactModal.classList.add('opacity-0');
            setTimeout(() => {
                contactModal.classList.add('hidden');
                document.body.style.overflow = '';
                modalContent.classList.remove('modal-content-leave-active');
                modalContent.classList.add('modal-content-enter');
            }, 300);
        };

        openModalBtns.forEach(btn => btn.addEventListener('click', openModal));
        closeModalBtn.addEventListener('click', closeModal);
        contactModal.addEventListener('click', (e) => { if (e.target === contactModal) closeModal(); });
        window.addEventListener('keydown', (e) => { if (e.key === 'Escape' && !contactModal.classList.contains('hidden')) closeModal(); });
        
        whatsappForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;
            const phoneNumber = '584121479466'; // Reemplaza con tu número
            let whatsappMessage = `¡Hola napbak! Soy ${name}.\n\nMi correo es: ${email}\n\nQuería hablarte sobre mi proyecto:\n"${message}"`;
            const encodedMessage = encodeURIComponent(whatsappMessage);
            window.open(`https://wa.me/${phoneNumber}?text=${encodedMessage}`, '_blank');
            closeModal();
        });

        // --- Lógica del formulario de descuento ---
        const discountForm = document.getElementById('discount-form');
        const discountFormStatus = document.getElementById('discount-form-status');

        async function handleDiscountFormSubmit(event) {
            event.preventDefault();
            const form = event.target;
            const data = new FormData(form);
            
            try {
                const response = await fetch(form.action, {
                    method: form.method,
                    body: data,
                    headers: { 'Accept': 'application/json' }
                });

                if (response.ok) {
                    discountFormStatus.textContent = "¡Gracias! Revisa tu correo para obtener el descuento.";
                    discountFormStatus.classList.remove('text-red-400');
                    discountFormStatus.classList.add('text-green-400');
                    form.reset();
                } else {
                    discountFormStatus.textContent = "Oops! Hubo un problema. Inténtalo de nuevo.";
                    discountFormStatus.classList.add('text-red-400');
                }
            } catch (error) {
                discountFormStatus.textContent = "Oops! Hubo un problema. Inténtalo de nuevo.";
                discountFormStatus.classList.add('text-red-400');
            }

            setTimeout(() => {
                discountFormStatus.textContent = "";
            }, 6000);
        }

        if (discountForm) {
            discountForm.addEventListener("submit", handleDiscountFormSubmit);
        }
    });
    </script>
</body>
</html>
