<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ===== METAETIQUETAS SEO PARA INGLÉS ===== -->
    <title>Music Producer | napbak | Music for Artists, Film & Games</title>
    <meta name="description" content="Professional music producer. Offering production services for artists, film and TV scoring, advertising jingles, and music for video games.">
    <meta name="keywords" content="music producer, music production, music for artists, film scoring, jingles, soundtracks, video games, composer, sound design, movie music">

    <!-- ===== ETIQUETAS HREFLANG PARA SEO MULTILINGÜE ===== -->
    <link rel="alternate" hreflang="es" href="https://napbakmusic.com/es/">
    <link rel="alternate" hreflang="en" href="https://napbakmusic.com/en/">
    <link rel="alternate" hreflang="x-default" href="https://napbakmusic.com/es/">

    <!-- ===== METAETIQUETAS Open Graph (para redes sociales) ===== -->
    <meta property="og:title" content="napbak | Professional Music Producer">
    <meta property="og:description" content="Music production services for artists, film, TV, jingles, and video games. I transform your vision into a professional sound that connects and stands out.">
    <meta property="og:image" content="https://i.imgur.com/mdQDzCG.png">
    <meta property="og:url" content="https://napbakmusic.com/en/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="es_ES">
    <meta name="twitter:card" content="summary_large_image">

    <!-- ===== FAVICONS / ICONOS DEL SITIO WEB ===== -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
    <link rel="manifest" href="/assets/site.webmanifest">
    <link rel="shortcut icon" href="/assets/favicon.ico">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome (iconos) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">

    <!-- ===== DATOS ESTRUCTURADOS (SCHEMA.ORG) ===== -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MusicGroup",
      "name": "napbak",
      "url": "https://napbakmusic.com/en/",
      "image": "https://i.imgur.com/mdQDzCG.png",
      "description": "Professional music producer. Offering production services for artists, film and TV scoring, advertising jingles, and music for video games.",
      "makesOffer": [
        { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Artist Production", "description": "Take your song from an idea to a radio-ready release for all streaming platforms." } },
        { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Film & TV Scoring", "description": "Soundtrack composition (scoring) and sound design that enhance the visual narrative." } },
        { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Jingles & Advertising", "description": "Create a memorable sound identity for your brand that connects with your audience." } },
        { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Game Soundtracks", "description": "Immersive music and sound effects that define the atmosphere and gameplay of your video game." } }
      ]
    }
    </script>

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0c0a09; color: #e2e8f0; }
        h1, h2, h3, h4, h5, h6 { font-family: 'Montserrat', sans-serif; }
        .header-scrolled { background-color: rgba(12, 10, 9, 0.8); backdrop-filter: blur(10px); box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
        .wave-transition { position: absolute; top: -1px; left: 0; width: 100%; overflow: hidden; line-height: 0; transform: rotate(180deg); }
        .wave-transition svg { position: relative; display: block; width: calc(100% + 1.3px); height: 120px; }
        .wave-transition .shape-fill { fill: #111827; }
        .reveal { opacity: 0; transform: translateY(50px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .reveal.visible { opacity: 1; transform: translateY(0); }
        .modal-content-enter { opacity: 0; transform: translateY(20px) scale(0.95); }
        .modal-content-enter-active { opacity: 1; transform: translateY(0) scale(1); transition: opacity 300ms ease-out, transform 300ms ease-out; }
        .modal-content-leave-active { opacity: 0; transform: translateY(20px) scale(0.95); transition: opacity 300ms ease-in, transform 300ms ease-in; }
        @keyframes moveGradient { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .animated-gradient-bg { background: linear-gradient(-45deg, #2c1250, #1a237e, #0c0a09, #4c1d95); background-size: 400% 400%; animation: moveGradient 20s ease infinite; }
        .lang-switcher a { background-color: transparent; color: #e2e8f0; padding: 5px 10px; border-radius: 5px; transition: background-color 0.3s, color 0.3s; font-weight: 700; }
        .lang-switcher a.active { background-color: #8b5cf6; color: white; }
    </style>
</head>
<body class="bg-stone-950">
    
    <!-- El resto del body sigue igual... -->
    <!-- ===== Header ===== -->
    <header id="header" class="fixed top-0 left-0 w-full z-50 transition-all duration-300">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="logo">
                <a href="/en/" class="text-2xl font-black tracking-tighter text-white">napbak</a>
            </div>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#services" class="text-slate-300 hover:text-purple-400 transition-colors duration-300">Services</a>
                <a href="#how-it-works" class="text-slate-300 hover:text-purple-400 transition-colors duration-300">Process</a>
                <a href="#music" class="text-slate-300 hover:text-purple-400 transition-colors duration-300">Portfolio</a>
                <button class="open-modal-trigger bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-6 rounded-full transition-all duration-300 transform hover:scale-105">
                    Let's Talk
                </button>
                <div class="lang-switcher flex items-center border border-slate-600 rounded-lg ml-4">
                    <a href="/es/">ES</a>
                    <a href="/en/" class="active">EN</a>
                </div>
            </nav>
            <div class="md:hidden flex items-center">
                <div class="lang-switcher flex items-center border border-slate-600 rounded-lg mr-4">
                    <a href="/es/">ES</a>
                    <a href="/en/" class="active">EN</a>
                </div>
                <button class="text-white text-2xl">
                    <i class="fas fa-bars"></i> <!-- Note: You'll need JS for the mobile menu -->
                </button>
            </div>
        </div>
    </header>

    <main>
        <!-- ===== Hero Section ===== -->
        <section id="hero" class="relative h-screen flex items-center justify-center text-center overflow-hidden">
            <div id="hero-bg" class="absolute inset-0 z-0">
                <video autoplay loop muted playsinline poster="https://images.unsplash.com/photo-1619983081563-436f63e02242?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover">
                    <source src="https://i.imgur.com/u2v1HLr.mp4" type="video/mp4">
                    Your browser does not support the background video.
                </video>
            </div>
            <div class="absolute inset-0 bg-gradient-to-t from-stone-950 via-purple-950/50 to-transparent z-10"></div>
            <div class="container mx-auto px-6 relative z-20">
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-black text-white leading-tight mb-4 reveal">
                    Music Production for Artists, Film & Video Games
                </h1>
                <p class="text-lg md:text-xl text-slate-300 max-w-3xl mx-auto mb-8 reveal" style="transition-delay: 100ms;">
                    I transform your vision into a professional sound that connects, excites, and stands out. From full song production to soundtracks and jingles.
                </p>
                <button class="open-modal-trigger bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 px-10 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg shadow-purple-500/50 reveal" style="transition-delay: 200ms;">
                    Quote Your Project
                </button>
            </div>
        </section>

        <!-- ===== SERVICES SECTION ===== -->
        <section id="services" class="py-20 md:py-32 bg-stone-950">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl md:text-5xl font-black text-white mb-4 reveal">Music Production Services</h2>
                    <p class="text-lg text-slate-400 max-w-2xl mx-auto reveal" style="transition-delay: 100ms;">Professional audio solutions for every creative need.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-desktop"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">Artist Production</h3>
                        <p class="text-slate-400">Take your song from an idea to a radio-ready release for all streaming platforms.</p>
                    </div>
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal" style="transition-delay: 100ms;">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-film"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">Film & TV Scoring</h3>
                        <p class="text-slate-400">Soundtrack composition (scoring) and sound design that enhance the visual narrative.</p>
                    </div>
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal" style="transition-delay: 200ms;">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-bullhorn"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">Jingles & Advertising</h3>
                        <p class="text-slate-400">Create a memorable sound identity for your brand that connects with your audience.</p>
                    </div>
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal" style="transition-delay: 300ms;">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-gamepad"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">Game Soundtracks</h3>
                        <p class="text-slate-400">Immersive music and sound effects that define the atmosphere and gameplay of your video game.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== Production Process ===== -->
        <section id="how-it-works" class="py-20 md:py-32 bg-stone-950 relative">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl md:text-5xl font-black text-white mb-4 reveal">My Production Process</h2>
                    <p class="text-lg text-slate-400 max-w-2xl mx-auto reveal" style="transition-delay: 100ms;">A collaborative and transparent approach to take your music to the next level.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-lightbulb"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">1. Vision & Concept</h3>
                        <p class="text-slate-400">We start with a call to understand your idea, influences, and the goal of your project.</p>
                    </div>
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal" style="transition-delay: 100ms;">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-drafting-compass"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">2. Production & Arrangement</h3>
                        <p class="text-slate-400">I build the instrumental, arrangements, and structure, sending you previews for your feedback.</p>
                    </div>
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal" style="transition-delay: 200ms;">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-microphone-alt"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">3. Recording & Editing</h3>
                        <p class="text-slate-400">I guide you in recording vocals or we record them together. Then I edit and fine-tune every detail.</p>
                    </div>
                    <div class="bg-gray-800/30 backdrop-blur-sm border border-white/10 rounded-2xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-purple-500/10 reveal" style="transition-delay: 300ms;">
                        <div class="text-5xl text-purple-400 mb-4"><i class="fas fa-wave-square"></i></div>
                        <h3 class="text-xl font-bold text-white mb-2">4. Mixing & Mastering</h3>
                        <p class="text-slate-400">The final step where I balance all elements and give the audio the final polish for its release.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ===== Portfolio/Music ===== -->
        <section id="music" class="relative pt-20 md:pt-32 pb-20 md:pb-32 animated-gradient-bg">
            <div class="wave-transition">
                <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                    <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V120H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill" style="fill: #0c0a09;"></path>
                </svg>
            </div>
            <div class="container mx-auto px-6 relative z-10">
                <div class="text-center mb-16">
                    <h2 class="text-4xl md:text-5xl font-black text-white mb-4 reveal">My Portfolio</h2>
                    <p class="text-lg text-slate-300 max-w-2xl mx-auto reveal" style="transition-delay: 100ms;">This is the proof of my sound. Listen to some of my releases and production work.</p>
                </div>
                <div class="max-w-4xl mx-auto reveal">
                    <iframe title="Spotify Player for napbak" style="border-radius:12px" src="https://open.spotify.com/embed/artist/1mc3f2GvIm1g6f61hVvyJt?utm_source=generator" width="100%" height="380" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                </div>
            </div>
        </section>

        <!-- ===== Discount CTA ===== -->
        <section id="discount-cta" class="py-20 md:py-32 bg-gray-900">
            <div class="container mx-auto px-6 text-center">
                 <div class="bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl p-10 md:p-16 reveal">
                    <h2 class="text-3xl md:text-4xl font-black text-white mb-4">Get 10% Off</h2>
                    <p class="text-lg text-purple-200 max-w-2xl mx-auto mb-8">Subscribe to my mailing list and receive a 10% discount on your first music production project. Don't miss out on exclusive offers and news!</p>
                    <form id="discount-form" action="https://formspree.io/f/mldnvnjy" method="POST" class="max-w-lg mx-auto">
                        <div class="flex flex-col md:flex-row justify-center items-center gap-4">
                            <input type="email" name="email" required class="w-full md:w-auto flex-grow bg-white/20 text-white placeholder-purple-200/70 rounded-full py-3 px-6 border-2 border-transparent focus:border-white focus:outline-none transition-all" placeholder="Your email address">
                            <button type="submit" class="w-full md:w-auto bg-white text-purple-600 font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-105">
                                Claim My Discount
                            </button>
                        </div>
                    </form>
                    <p id="discount-form-status" class="mt-4 text-white"></p>
                </div>
            </div>
        </section>
    </main>
    
    <!-- ===== Footer ===== -->
    <footer id="contact" class="bg-gradient-to-t from-purple-950/50 to-gray-900 pt-20">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12 text-center md:text-left">
                <div class="md:col-span-1">
                    <h4 class="text-xl font-black tracking-tighter text-white mb-4 inline-block">napbak</h4>
                    <p class="text-slate-400 mb-4">Music production that connects.</p>
                </div>
                <div>
                    <h4 class="text-lg font-bold text-white mb-4">Explore</h4>
                    <ul class="space-y-2">
                        <li><a href="#services" class="text-slate-400 hover:text-purple-400 transition-colors">Services</a></li>
                        <li><a href="#music" class="text-slate-400 hover:text-purple-400 transition-colors">My Portfolio</a></li>
                        <li><a href="#how-it-works" class="text-slate-400 hover:text-purple-400 transition-colors">My Process</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-bold text-white mb-4">Social</h4>
                    <div class="flex space-x-4 text-2xl justify-center md:justify-start">
                       <a href="https://open.spotify.com/artist/1mc3f2GvIm1g6f61hVvyJt" target="_blank" rel="noopener noreferrer" class="text-slate-400 hover:text-purple-400 transition-colors"><i class="fab fa-spotify"></i></a>
                       <a href="https://www.instagram.com/napbakmusic" target="_blank" rel="noopener noreferrer" class="text-slate-400 hover:text-purple-400 transition-colors"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="border-t border-white/10 py-6 text-center text-slate-500">
                <p>&copy; 2024 napbak. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- ===== CONTACT MODAL ===== -->
    <div id="contact-modal" class="fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] hidden flex items-center justify-center p-4 transition-opacity duration-300 opacity-0">
        <div id="modal-content" class="bg-gradient-to-br from-stone-900 to-slate-900 border border-purple-500/20 shadow-2xl shadow-purple-500/20 rounded-2xl p-8 max-w-lg w-full relative modal-content-enter">
            <button id="close-modal" class="absolute top-4 right-4 text-slate-500 hover:text-white transition-colors duration-300 z-10">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
            <h2 class="text-3xl font-bold text-white mb-2 text-center">Let's Talk About Your Project</h2>
            <p class="text-slate-400 text-center mb-6">Complete the form and I'll contact you via WhatsApp.</p>
            <form id="whatsapp-form" class="space-y-5">
                <div>
                    <label for="name" class="block text-slate-300 mb-2 font-semibold text-sm">Your Name</label>
                    <input type="text" id="name" name="name" required class="w-full bg-slate-800/50 text-white rounded-lg py-3 px-4 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all" placeholder="e.g., John Doe">
                </div>
                <div>
                    <label for="email" class="block text-slate-300 mb-2 font-semibold text-sm">Your Email Address</label>
                    <input type="email" id="email" name="email" required class="w-full bg-slate-800/50 text-white rounded-lg py-3 px-4 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all" placeholder="e.g., john.doe@email.com">
                </div>
                <div>
                    <label for="message" class="block text-slate-300 mb-2 font-semibold text-sm">Tell me about your project</label>
                    <textarea id="message" name="message" rows="4" required class="w-full bg-slate-800/50 text-white rounded-lg py-3 px-4 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all" placeholder="Describe your idea, genre, whether it's for a film, a game, etc."></textarea>
                </div>
                <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-3">
                    <i class="fab fa-whatsapp text-xl"></i>
                    <span>Send via WhatsApp</span>
                </button>
            </form>
        </div>
    </div>

    <script>
    // This script no longer needs to handle translations, just the page's functionality.
    document.addEventListener('DOMContentLoaded', () => {
        // --- Page logic (scroll, animations, etc.) ---
        const heroBg = document.getElementById('hero-bg');
        window.addEventListener('scroll', () => {
            if (heroBg) heroBg.style.transform = `translateY(${window.pageYOffset * 0.4}px)`;
        });
        const header = document.getElementById('header');
        window.addEventListener('scroll', () => header.classList.toggle('header-scrolled', window.scrollY > 50));
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // --- Modal Logic ---
        const contactModal = document.getElementById('contact-modal');
        const modalContent = document.getElementById('modal-content');
        const openModalBtns = document.querySelectorAll('.open-modal-trigger');
        const closeModalBtn = document.getElementById('close-modal');
        const whatsappForm = document.getElementById('whatsapp-form');

        const openModal = () => {
            contactModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            void contactModal.offsetWidth; 
            contactModal.classList.remove('opacity-0');
            modalContent.classList.remove('modal-content-enter');
            modalContent.classList.add('modal-content-enter-active');
        };

        const closeModal = () => {
            modalContent.classList.remove('modal-content-enter-active');
            modalContent.classList.add('modal-content-leave-active');
            contactModal.classList.add('opacity-0');
            setTimeout(() => {
                contactModal.classList.add('hidden');
                document.body.style.overflow = '';
                modalContent.classList.remove('modal-content-leave-active');
                modalContent.classList.add('modal-content-enter');
            }, 300);
        };

        openModalBtns.forEach(btn => btn.addEventListener('click', openModal));
        closeModalBtn.addEventListener('click', closeModal);
        contactModal.addEventListener('click', (e) => { if (e.target === contactModal) closeModal(); });
        window.addEventListener('keydown', (e) => { if (e.key === 'Escape' && !contactModal.classList.contains('hidden')) closeModal(); });
        
        whatsappForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;
            const phoneNumber = '584121479466'; // Replace with your number
            let whatsappMessage = `Hello napbak! I'm ${name}.\n\nMy email is: ${email}\n\nI wanted to talk to you about my project:\n"${message}"`;
            const encodedMessage = encodeURIComponent(whatsappMessage);
            window.open(`https://wa.me/${phoneNumber}?text=${encodedMessage}`, '_blank');
            closeModal();
        });

        // --- Discount Form Logic ---
        const discountForm = document.getElementById('discount-form');
        const discountFormStatus = document.getElementById('discount-form-status');

        async function handleDiscountFormSubmit(event) {
            event.preventDefault();
            const form = event.target;
            const data = new FormData(form);
            
            try {
                const response = await fetch(form.action, {
                    method: form.method,
                    body: data,
                    headers: { 'Accept': 'application/json' }
                });

                if (response.ok) {
                    discountFormStatus.textContent = "Thanks! Check your email for the discount code.";
                    discountFormStatus.classList.remove('text-red-400');
                    discountFormStatus.classList.add('text-green-400');
                    form.reset();
                } else {
                    discountFormStatus.textContent = "Oops! There was a problem. Please try again.";
                    discountFormStatus.classList.add('text-red-400');
                }
            } catch (error) {
                discountFormStatus.textContent = "Oops! There was a problem. Please try again.";
                discountFormStatus.classList.add('text-red-400');
            }

            setTimeout(() => {
                discountFormStatus.textContent = "";
            }, 6000);
        }

        if (discountForm) {
            discountForm.addEventListener("submit", handleDiscountFormSubmit);
        }
    });
    </script>
</body>
</html>
